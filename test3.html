<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Document</title>    
      <script src="./js/date.js"></script>
      <script src="./js/events.js"></script>
<style>

body {
    justify-content: center;
    display: flex;

}
.input-container {
    --icon-size: 1.9em;
    --padding-vertical: 12px;
    --border-color: rgba(209, 209, 209, 1);
    --line-height: 24px;
    position: relative;
    display: flex;
    flex-direction: column; /* Stack input and error message */
    margin-bottom: 20px; /* Margin below the entire input-container */
    width: 50%;
    
}

.input-container input {
    width: 100%; /* Makes the input take up the full width of the container */
    padding:  var(--padding-vertical) 51px  var(--padding-vertical) 21px; /* 8px padding on left, right padding adjusted for the icon */
    border-radius: 10px;
    border: 1px solid var(--border-color);
    box-sizing: border-box;
    background: rgba(255, 255, 255, 1);
    display: flex;
    align-items: center;
    font-size: 20px;
    font-weight: 400;
    line-height: var(--line-height);
    text-align: left;    
}

.input-container .icon {
    position: absolute;
    right: 21px; /* Position the icon with 8px padding from the right edge */
    top: var(--padding-vertical);
    cursor: pointer;
    color: #666;
    background: green;
    display: flex;
    align-items: center;
    justify-content: center;
    height:24px;
    object-fit: contain;
}

.input-container input:focus {
    /* border-color: #007BFF; /* Change border color on focus */
    outline: none;
}

.input-container input:invalid {
    border-color: red;
}

.input-container .icon:hover {
    color: #007BFF; /* Change icon color on hover */
}

.error-msg {
    min-height: 20px; /* Reserve space for the error message */
    margin-top: 5px; /* Space between input field and error message */
    color: red;
    font-size: 0.9em;
    visibility: hidden; /* Hide error message when not needed */
}

.error-msg.visible {
    visibility: visible; /* Show error message */
}
form {
    display: flex;
    width: 100%;
}

</style>
<script>
    function init() {
        console.log(getGreeting());
        removeFormEvents();
        let passwordContainer=document.getElementById('password-container');
        // passwordContainer=document.querySelector('.password-container');
        let childs=passwordContainer.children;
        childs[0].addEventListener('input', function(event) { // input 
            if (this.validity.valid) {
                event.target.parentElement.lastElementChild.innerHTML="";
            } else {
                event.target.parentElement.lastElementChild.innerHTML=this.validationMessage;
            }
        });
    }
    
    /* novalidate start direkt das script */
        /*
        https://www.mediaevent.de/javascript/formulare.html

    Namen          /^([ \u00c0-\u01ffa-zA-Z\.' \-]{3,})+$/;
Telefonnummern /^([0-9\.-\/ ()]{7,})$/;
Email          /^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/
URL            /^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/
*/

    /*
    passwordContainer=document.getElementById('password-container');
    childs=passwordContainer.children();
    debug;

    document.getElementById('password').addEventListener('input', function() {
        const container = document.getElementById('password-container');
        
        if (this.validity.valid) {
            container.classList.remove('invalid');
        } else {
            container.classList.add('invalid');
        }
    });
    */      
</script>      
   </head>
   <body onLoad="init()">
    <form onload="removeEvent()" id="login-form">
    <div id="password-container" class="input-container">
        <input id="password" type="email" required placeholder="Password">
        <span class="icon" onclick="togglePasswordView()">üëÅÔ∏è</span>
        <span id="password-msg" class="error-msg visible">Fehler</span>
    </div>
    <button type="submit">Los</button>
    </form>
   </body>
</html>